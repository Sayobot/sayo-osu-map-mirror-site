<div class="map-detail" *ngIf="mapDetail">
    <div class="img-box">
        <button class="close-btn" matDialogClose>X</button>
        <span class="status">{{ approved | uppercase }}</span>
        <span class="sid-float">SID : {{ data.id }}</span>
        <map-tags
            [content]="mapDetail.tags"
            (searchChange)="onTagSearch()"
        ></map-tags>
        <img [src]="imgUrl" alt="" />
        <difficulty-table
            [bidDataList]="mapDetail.bid_data"
            (switch)="difficultChange($event)"
        >
        </difficulty-table>
    </div>

    <div class="detail">
        <detail-info [detail]="mapDetail" [info]="detailInfo"></detail-info>
        <map-detail-radar-chart [mapData]="detailInfo"></map-detail-radar-chart>

        <div class="actions">
            <button
                mat-raised-button
                color="accent"
                *ngIf="musicTimer"
                disabled
            >
                <span *ngIf="parttime">{{ parttime }}s</span>
                <img *ngIf="!parttime" src="assets/img/common/loading.gif" />
            </button>

            <button
                mat-raised-button
                color="accent"
                *ngIf="!musicTimer"
                (click)="playPart()"
            >
                {{ 'mapDetail.try' | translate }}
            </button>

            <a
                mat-raised-button
                color="accent"
                [href]="link"
                target="_blank"
                rel="noopener noreferrer"
                >铺面预览</a
            >

            <button
                mat-raised-button
                color="accent"
                (click)="onDownLoad(config.mapV2)"
                [disabled]="isMapDownload"
            >
                <span *ngIf="!isMapDownload">{{
                    'mapDetail.download' | translate
                }}</span>
                <img
                    *ngIf="isMapDownload"
                    src="assets/img/common/loading.gif"
                />
            </button>

            <button
                mat-raised-button
                color="accent"
                (click)="onUnvedioDownload(config.mapUnVedio)"
                [disabled]="isMapUnvedioDownload"
            >
                <span *ngIf="!isMapUnvedioDownload">{{
                    'mapDetail.noVideo' | translate
                }}</span>
                <img
                    *ngIf="isMapUnvedioDownload"
                    src="assets/img/common/loading.gif"
                />
            </button>

            <button
                mat-raised-button
                color="accent"
                (click)="onDownLoad(config.mapMini)"
                [disabled]="isMapDownload"
            >
                <span *ngIf="!isMapDownload">Mini</span>
                <img
                    *ngIf="isMapDownload"
                    src="assets/img/common/loading.gif"
                />
            </button>

            <button mat-raised-button color="accent" (click)="shared()">
                {{ 'mapDetail.share' | translate }}
            </button>
        </div>
    </div>
</div>
